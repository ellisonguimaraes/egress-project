2023-02-23 03:36:29.211 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 03:36:29.302 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 03:36:29.303 +00:00 [INF] Hosting environment: Development
2023-02-23 03:36:29.303 +00:00 [INF] Content root path: /app/
2023-02-23 03:40:41.860 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8030/api/v1/testimony application/json 37
2023-02-23 03:40:41.918 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 03:40:41.956 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.TestimonyController.CreateAsync (Egress.API)'
2023-02-23 03:40:42.002 +00:00 [INF] Route matched with {action = "Create", controller = "Testimony"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsync(Egress.Application.Commands.Testimony.CreateTestimonyCommand) on controller Egress.API.Controllers.TestimonyController (Egress.API).
2023-02-23 03:45:02.728 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Guid, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-23 03:45:02.756 +00:00 [INF] Executed action Egress.API.Controllers.TestimonyController.CreateAsync (Egress.API) in 260747.0407ms
2023-02-23 03:45:02.758 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.TestimonyController.CreateAsync (Egress.API)'
2023-02-23 03:45:02.769 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/testimony, TraceId: 00-9e8543d95b144fa6b8a4d048cbeb7a7b-606ab3ba7769f216-00
System.AggregateException: One or more errors occurred. (Error constructing handler for request of type MediatR.IRequestHandler`2[Egress.Application.Commands.Testimony.CreateTestimonyCommand,System.Guid]. Register your handlers with the container. See the samples in GitHub for examples.)
 ---> System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[Egress.Application.Commands.Testimony.CreateTestimonyCommand,System.Guid]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> System.InvalidOperationException: Cannot use table 'Testimony' for entity type 'Testimony' since it is being used for entity type 'PersonCourse' and potentially other entity types, but there is no linking relationship. Add a foreign key to 'Testimony' on the primary key properties and pointing to the primary key on another entity type mapped to 'Testimony'.
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.ValidateSharedTableCompatibility(IReadOnlyList`1 mappedTypes, String tableName, String schema, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.ValidateSharedTableCompatibility(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at Egress.Infra.Data.Repositories.Repository`1..ctor(ApplicationDbContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Infra\Egress.Infra.Data\Repositories\Repository.cs:line 24
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Wrappers.HandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Wrappers.HandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Egress.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Behaviors\ValidationBehavior.cs:line 21
   --- End of inner exception stack trace ---
   at ResultGetter(Object )
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 03:45:02.849 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8030/api/v1/testimony application/json 37 - 400 - application/json;+ver=1 260992.9584ms
2023-02-23 03:45:05.360 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8030/api/v1/testimony application/json 37
2023-02-23 03:45:05.362 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.TestimonyController.CreateAsync (Egress.API)'
2023-02-23 03:45:05.363 +00:00 [INF] Route matched with {action = "Create", controller = "Testimony"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsync(Egress.Application.Commands.Testimony.CreateTestimonyCommand) on controller Egress.API.Controllers.TestimonyController (Egress.API).
2023-02-23 03:51:36.549 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 03:51:36.591 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 03:51:36.592 +00:00 [INF] Hosting environment: Development
2023-02-23 03:51:36.592 +00:00 [INF] Content root path: /app/
2023-02-23 03:51:36.943 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8030/api/v1/testimony application/json 37
2023-02-23 03:51:36.998 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 03:51:37.036 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.TestimonyController.CreateAsync (Egress.API)'
2023-02-23 03:51:37.080 +00:00 [INF] Route matched with {action = "Create", controller = "Testimony"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsync(Egress.Application.Commands.Testimony.CreateTestimonyCommand) on controller Egress.API.Controllers.TestimonyController (Egress.API).
2023-02-23 03:54:28.072 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 03:54:28.109 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 03:54:28.110 +00:00 [INF] Hosting environment: Development
2023-02-23 03:54:28.110 +00:00 [INF] Content root path: /app/
2023-02-23 03:54:33.655 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8030/api/v1/testimony application/json 37
2023-02-23 03:54:33.718 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 03:54:33.757 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.TestimonyController.CreateAsync (Egress.API)'
2023-02-23 03:54:33.803 +00:00 [INF] Route matched with {action = "Create", controller = "Testimony"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsync(Egress.Application.Commands.Testimony.CreateTestimonyCommand) on controller Egress.API.Controllers.TestimonyController (Egress.API).
2023-02-23 03:58:39.131 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 03:58:39.173 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 03:58:39.174 +00:00 [INF] Hosting environment: Development
2023-02-23 03:58:39.174 +00:00 [INF] Content root path: /app/
2023-02-23 03:59:44.744 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8030/api/v1/egress/?document=06300076598&document_type=1 - 0
2023-02-23 03:59:44.788 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 03:59:44.824 +00:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-02-23 03:59:44.825 +00:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-02-23 03:59:44.834 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8030/api/v1/egress/?document=06300076598&document_type=1 - 0 - 405 0 - 92.1228ms
2023-02-23 04:00:06.441 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - 0
2023-02-23 04:00:06.442 +00:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-02-23 04:00:06.443 +00:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-02-23 04:00:06.443 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - 0 - 405 0 - 2.5249ms
2023-02-23 04:01:19.916 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 04:01:19.928 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:01:19.977 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 04:05:14.598 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 04:05:14.646 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 04:05:14.647 +00:00 [INF] Hosting environment: Development
2023-02-23 04:05:14.647 +00:00 [INF] Content root path: /app/
2023-02-23 04:05:20.036 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 04:05:20.086 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 04:05:20.119 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:05:20.166 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 04:05:29.622 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 04:05:29.802 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 04:06:30.024 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 04:06:30.071 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 04:06:30.072 +00:00 [INF] Hosting environment: Development
2023-02-23 04:06:30.072 +00:00 [INF] Content root path: /app/
2023-02-23 04:06:39.665 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 04:06:39.718 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 04:06:39.753 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:06:39.798 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 04:06:57.611 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 04:06:57.777 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 04:09:16.966 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 04:09:17.015 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 04:09:17.016 +00:00 [INF] Hosting environment: Development
2023-02-23 04:09:17.016 +00:00 [INF] Content root path: /app/
2023-02-23 04:18:28.872 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 04:18:28.926 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 04:18:28.960 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:18:29.005 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 04:18:48.414 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 04:18:48.606 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 04:22:13.889 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 04:22:13.936 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 04:22:13.937 +00:00 [INF] Hosting environment: Development
2023-02-23 04:22:13.937 +00:00 [INF] Content root path: /app/
2023-02-23 04:22:23.623 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 04:22:23.677 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 04:22:23.713 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:22:23.759 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 04:22:28.482 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 04:22:28.658 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 04:23:43.051 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-23 04:23:43.083 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 79316.4137ms
2023-02-23 04:23:43.085 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:23:43.094 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-047d920dc1757cb3ae27133970d76f47-ef76388df8139ae1-00
System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported. Path: $.MoveNextAction.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 04:23:43.156 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - - - 400 - application/json;+ver=1 79535.7283ms
2023-02-23 04:23:51.022 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 04:23:51.024 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:23:51.025 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 04:24:16.217 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 04:24:48.844 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-23 04:24:48.845 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 57819.2925ms
2023-02-23 04:24:48.845 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:24:48.852 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-6f671163a163e316479cb146cefe5a31-451176c7272ede4e-00
System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported. Path: $.MoveNextAction.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 04:24:48.856 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - - - 400 - application/json;+ver=1 57834.3659ms
2023-02-23 04:27:46.508 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 04:27:46.550 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 04:27:46.550 +00:00 [INF] Hosting environment: Development
2023-02-23 04:27:46.551 +00:00 [INF] Content root path: /app/
2023-02-23 04:27:46.958 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 04:27:47.012 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 04:27:47.052 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:27:47.100 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 04:28:26.079 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=0 - -
2023-02-23 04:28:26.084 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:28:26.085 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 04:28:33.774 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 04:28:33.962 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 04:28:33.962 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 04:28:39.622 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 04:28:39.622 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 04:28:39.666 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 52558.0147ms
2023-02-23 04:28:39.666 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 13573.9464ms
2023-02-23 04:28:39.668 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:28:39.668 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:28:39.688 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-0903d3c555aee0604e5bc8fccfa86aae-b56f088a99faeb1f-00
System.AggregateException: One or more errors occurred. (The LINQ expression 'DbSet<PersonCourse>()
    .Where(p => p.Mat.Equals(
        value: __mat_0, 
        comparisonType: OrdinalIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.)
 ---> System.InvalidOperationException: The LINQ expression 'DbSet<PersonCourse>()
    .Where(p => p.Mat.Equals(
        value: __mat_0, 
        comparisonType: OrdinalIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.<VisitMethodCall>g__CheckTranslated|15_0(ShapedQueryExpression translated, <>c__DisplayClass15_0& )
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at System.Linq.Queryable.SingleOrDefault[TSource](IQueryable`1 source, Expression`1 predicate)
   at Egress.Infra.Data.Repositories.PersonCourseRepository.GetByMatAsync(String mat) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Infra\Egress.Infra.Data\Repositories\PersonCourseRepository.cs:line 15
   at Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommandHandler.Handle(GetPersonByDocumentCommand request, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Queries\Person\GetPersonByDocument\GetPersonByDocumentCommandHandler.cs:line 34
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Egress.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Behaviors\ValidationBehavior.cs:line 21
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 04:28:39.767 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - - - 400 - application/json;+ver=1 52812.4324ms
2023-02-23 04:28:39.688 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-639cebbbc979074eb7008ef8aca72788-da4320e1f4698193-00
System.AggregateException: One or more errors occurred. (The LINQ expression 'DbSet<PersonCourse>()
    .Where(p => p.Mat.Equals(
        value: __mat_0, 
        comparisonType: OrdinalIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.)
 ---> System.InvalidOperationException: The LINQ expression 'DbSet<PersonCourse>()
    .Where(p => p.Mat.Equals(
        value: __mat_0, 
        comparisonType: OrdinalIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.<VisitMethodCall>g__CheckTranslated|15_0(ShapedQueryExpression translated, <>c__DisplayClass15_0& )
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at System.Linq.Queryable.SingleOrDefault[TSource](IQueryable`1 source, Expression`1 predicate)
   at Egress.Infra.Data.Repositories.PersonCourseRepository.GetByMatAsync(String mat) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Infra\Egress.Infra.Data\Repositories\PersonCourseRepository.cs:line 15
   at Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommandHandler.Handle(GetPersonByDocumentCommand request, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Queries\Person\GetPersonByDocument\GetPersonByDocumentCommandHandler.cs:line 34
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Egress.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Behaviors\ValidationBehavior.cs:line 21
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 04:28:39.806 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=0 - - - 400 - application/json;+ver=1 13727.4317ms
2023-02-23 04:28:45.479 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=0 - -
2023-02-23 04:28:45.481 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:28:45.481 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 04:29:37.429 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 04:29:37.483 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 04:29:37.483 +00:00 [INF] Hosting environment: Development
2023-02-23 04:29:37.484 +00:00 [INF] Content root path: /app/
2023-02-23 04:29:51.956 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=0 - -
2023-02-23 04:29:52.007 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 04:29:52.042 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:29:52.088 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 04:30:56.477 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 04:30:56.521 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 04:30:56.522 +00:00 [INF] Hosting environment: Development
2023-02-23 04:30:56.522 +00:00 [INF] Content root path: /app/
2023-02-23 04:31:05.640 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=0 - -
2023-02-23 04:31:05.692 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 04:31:05.727 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:31:05.772 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 04:31:16.184 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 04:31:16.379 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 04:31:17.992 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 04:31:18.029 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 12251.1891ms
2023-02-23 04:31:18.031 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:31:18.043 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-c231aa4edf5b7d8914cb94aba7fe4efd-765d30f49d90214a-00
System.AggregateException: One or more errors occurred. (The LINQ expression 'DbSet<PersonCourse>()
    .Where(p => p.Mat.Equals(
        value: __mat_0, 
        comparisonType: OrdinalIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.)
 ---> System.InvalidOperationException: The LINQ expression 'DbSet<PersonCourse>()
    .Where(p => p.Mat.Equals(
        value: __mat_0, 
        comparisonType: OrdinalIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.<VisitMethodCall>g__CheckTranslated|15_0(ShapedQueryExpression translated, <>c__DisplayClass15_0& )
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at System.Linq.Queryable.SingleOrDefault[TSource](IQueryable`1 source, Expression`1 predicate)
   at Egress.Infra.Data.Repositories.PersonCourseRepository.GetByMatAsync(String mat) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Infra\Egress.Infra.Data\Repositories\PersonCourseRepository.cs:line 15
   at Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommandHandler.Handle(GetPersonByDocumentCommand request, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Queries\Person\GetPersonByDocument\GetPersonByDocumentCommandHandler.cs:line 34
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Egress.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Behaviors\ValidationBehavior.cs:line 21
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 04:31:18.118 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=0 - - - 400 - application/json;+ver=1 12480.3717ms
2023-02-23 04:31:22.246 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 04:31:22.248 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:31:22.249 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 04:32:59.673 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 04:34:43.518 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 04:34:43.580 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 04:34:43.582 +00:00 [INF] Hosting environment: Development
2023-02-23 04:34:43.589 +00:00 [INF] Content root path: /app/
2023-02-23 04:34:49.409 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 04:34:49.473 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 04:34:49.513 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:34:49.567 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 04:35:06.344 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 04:35:06.534 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 04:37:41.363 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 04:37:41.398 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 171823.9254ms
2023-02-23 04:37:41.400 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:37:41.412 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-8f759f117afb1e55b3355a868d2fc9e9-69055bc2f68914a3-00
System.AggregateException: One or more errors occurred. (The LINQ expression 'DbSet<Person>()
    .Where(p => p.Cpf.Equals(
        value: __cpf_0, 
        comparisonType: OrdinalIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.)
 ---> System.InvalidOperationException: The LINQ expression 'DbSet<Person>()
    .Where(p => p.Cpf.Equals(
        value: __cpf_0, 
        comparisonType: OrdinalIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.<VisitMethodCall>g__CheckTranslated|15_0(ShapedQueryExpression translated, <>c__DisplayClass15_0& )
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.SingleOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Egress.Infra.Data.Repositories.PersonRepository.GetByCpfAsync(String cpf) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Infra\Egress.Infra.Data\Repositories\PersonRepository.cs:line 20
   at Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommandHandler.Handle(GetPersonByDocumentCommand request, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Queries\Person\GetPersonByDocument\GetPersonByDocumentCommandHandler.cs:line 38
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Egress.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Behaviors\ValidationBehavior.cs:line 21
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 04:37:41.488 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - - - 400 - application/json;+ver=1 172082.7405ms
2023-02-23 04:39:13.654 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 04:39:13.704 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 04:39:13.705 +00:00 [INF] Hosting environment: Development
2023-02-23 04:39:13.706 +00:00 [INF] Content root path: /app/
2023-02-23 04:39:15.303 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 04:39:15.361 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 04:39:15.396 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:39:15.450 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 04:39:20.728 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 04:39:20.960 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 04:39:32.224 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Behaviors.ValidationBehavior`2+<Handle>d__2[[Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 04:39:32.274 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 16815.8943ms
2023-02-23 04:39:32.276 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:39:32.288 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-2b817969d87cb68384cfb50607104b73-56cbfec2a5c139d1-00
System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported. Path: $.MoveNextAction.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 04:39:32.391 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - - - 400 - application/json;+ver=1 17092.7978ms
2023-02-23 04:39:32.397 +00:00 [ERR] An error occurred using the connection to database 'EgressDb' on server 'egress_db,1433'.
2023-02-23 04:39:32.410 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Egress.Infra.Data.Context.ApplicationDbContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-02-23 04:40:04.921 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 04:40:04.925 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:40:04.925 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 04:40:08.050 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 04:40:15.799 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Behaviors.ValidationBehavior`2+<Handle>d__2[[Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 04:40:15.800 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 10874.1452ms
2023-02-23 04:40:15.801 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:40:15.810 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-1d9dc85f3912b261ef1cf73502b7122c-0a62d94dcd8bc4d6-00
System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported. Path: $.MoveNextAction.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 04:40:15.822 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - - - 400 - application/json;+ver=1 10900.4750ms
2023-02-23 04:40:15.834 +00:00 [ERR] Failed executing DbCommand (1,957ms) [Parameters=[@__cpf_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[id], [p].[birth_date], [p].[cpf], [p].[created_at], [p].[email], [p].[expose_data], [p].[name], [p].[perfil_image], [p].[person_type], [p].[phone_number], [p].[sex], [p].[updated_at]
FROM [Person] AS [p]
WHERE [p].[cpf] = @__cpf_0
2023-02-23 04:40:15.843 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Egress.Infra.Data.Context.ApplicationDbContext'.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-02-23 04:46:54.564 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 04:46:54.568 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:46:54.569 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 04:47:02.049 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 04:47:37.075 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Behaviors.ValidationBehavior`2+<Handle>d__2[[Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 04:47:37.076 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 42506.7056ms
2023-02-23 04:47:37.076 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:47:37.086 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-501dda7bc2c754f21ff3cb37673bc759-f6f12ce37b080295-00
System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported. Path: $.MoveNextAction.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 04:47:37.090 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - - - 400 - application/json;+ver=1 42526.2207ms
2023-02-23 04:47:37.091 +00:00 [ERR] An error occurred using the connection to database 'EgressDb' on server 'egress_db,1433'.
2023-02-23 04:47:37.092 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Egress.Infra.Data.Context.ApplicationDbContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-02-23 04:47:58.824 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 04:47:58.825 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:47:58.826 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 04:48:03.282 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 04:48:04.624 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Behaviors.ValidationBehavior`2+<Handle>d__2[[Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 04:48:04.627 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 5800.2061ms
2023-02-23 04:48:04.628 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:48:04.639 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-58862b2fc5c9d609b05bda74204a697d-bcb5c68214863c90-00
System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported. Path: $.MoveNextAction.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 04:48:04.647 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - - - 400 - application/json;+ver=1 5822.2635ms
2023-02-23 04:48:04.650 +00:00 [ERR] Failed executing DbCommand (31ms) [Parameters=[@__cpf_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[id], [p].[birth_date], [p].[cpf], [p].[created_at], [p].[email], [p].[expose_data], [p].[name], [p].[perfil_image], [p].[person_type], [p].[phone_number], [p].[sex], [p].[updated_at]
FROM [Person] AS [p]
WHERE [p].[cpf] = @__cpf_0
2023-02-23 04:48:04.652 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Egress.Infra.Data.Context.ApplicationDbContext'.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-02-23 04:54:35.633 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 04:54:35.675 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 04:54:35.676 +00:00 [INF] Hosting environment: Development
2023-02-23 04:54:35.676 +00:00 [INF] Content root path: /app/
2023-02-23 04:54:47.830 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 04:54:47.891 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 04:54:47.936 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:54:47.992 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 04:54:51.298 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 04:54:51.478 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 04:55:07.780 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Behaviors.ValidationBehavior`2+<Handle>d__2[[Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 04:55:07.839 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 19839.6965ms
2023-02-23 04:55:07.841 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 04:55:07.854 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-e94642077119e723a343cf44d46689a4-bcde0e624d452159-00
System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported. Path: $.MoveNextAction.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 04:55:07.972 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - - - 400 - application/json;+ver=1 20144.4181ms
2023-02-23 04:55:07.982 +00:00 [ERR] An error occurred using the connection to database 'EgressDb' on server 'egress_db,1433'.
2023-02-23 04:55:08.000 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Egress.Infra.Data.Context.ApplicationDbContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-02-23 05:03:26.044 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 05:03:26.088 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 05:03:26.089 +00:00 [INF] Hosting environment: Development
2023-02-23 05:03:26.089 +00:00 [INF] Content root path: /app/
2023-02-23 05:03:31.911 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 05:03:31.969 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 05:03:32.009 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 05:03:32.058 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 05:03:35.941 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 05:03:36.128 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 05:04:09.456 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Behaviors.ValidationBehavior`2+<Handle>d__2[[Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 05:04:09.534 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 37468.8535ms
2023-02-23 05:04:09.536 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 05:04:09.547 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-e74dcc5a130575c28a9d23744e6f45e3-6e312aad5ffd4120-00
System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported. Path: $.MoveNextAction.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 05:04:09.683 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - - - 400 - application/json;+ver=1 37774.3842ms
2023-02-23 05:04:09.694 +00:00 [ERR] An error occurred using the connection to database 'EgressDb' on server 'egress_db,1433'.
2023-02-23 05:04:09.711 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Egress.Infra.Data.Context.ApplicationDbContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-02-23 05:06:49.646 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 05:06:49.648 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 05:06:49.649 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 05:07:13.160 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 05:07:13.200 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 05:07:13.201 +00:00 [INF] Hosting environment: Development
2023-02-23 05:07:13.201 +00:00 [INF] Content root path: /app/
2023-02-23 05:07:14.347 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 05:07:14.404 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 05:07:14.440 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 05:07:14.488 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 05:07:18.977 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 05:07:19.198 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 05:09:34.727 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Behaviors.ValidationBehavior`2+<Handle>d__2[[Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 05:09:34.777 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 140282.1498ms
2023-02-23 05:09:34.780 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 05:09:34.791 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-832a0d139df56ef818244a3dc66598fc-e0edf21103dbc4e6-00
System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported. Path: $.MoveNextAction.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 05:09:34.891 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - - - 400 - application/json;+ver=1 140547.0694ms
2023-02-23 05:09:34.898 +00:00 [ERR] An error occurred using the connection to database 'EgressDb' on server 'egress_db,1433'.
2023-02-23 05:09:34.911 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Egress.Infra.Data.Context.ApplicationDbContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-02-23 05:09:41.509 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 05:09:41.511 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 05:09:41.512 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 05:09:46.106 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 05:10:00.772 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Behaviors.ValidationBehavior`2+<Handle>d__2[[Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 05:10:00.773 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 19260.4434ms
2023-02-23 05:10:00.773 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 05:10:00.781 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-9b5211740c03bb8366e29eeb35d52c55-dc529de0e28cc013-00
System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported. Path: $.MoveNextAction.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 05:10:00.795 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - - - 400 - application/json;+ver=1 19286.3101ms
2023-02-23 05:10:00.805 +00:00 [ERR] Failed executing DbCommand (11,040ms) [Parameters=[@__cpf_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[id], [p].[birth_date], [p].[cpf], [p].[created_at], [p].[email], [p].[expose_data], [p].[name], [p].[perfil_image], [p].[person_type], [p].[phone_number], [p].[sex], [p].[updated_at]
FROM [Person] AS [p]
WHERE [p].[cpf] = @__cpf_0
2023-02-23 05:10:00.815 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Egress.Infra.Data.Context.ApplicationDbContext'.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-02-23 05:16:02.554 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 05:16:02.608 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 05:16:02.608 +00:00 [INF] Hosting environment: Development
2023-02-23 05:16:02.608 +00:00 [INF] Content root path: /app/
2023-02-23 05:16:03.258 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 05:16:03.313 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 05:16:03.351 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 05:16:03.399 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 05:16:07.770 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 05:16:07.958 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 05:16:16.956 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Behaviors.ValidationBehavior`2+<Handle>d__2[[Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 05:16:17.006 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 13599.0301ms
2023-02-23 05:16:17.009 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 05:16:17.020 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-de4be26a70c7d1dd374496991755efa7-ddd737d1a7681cd8-00
System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported. Path: $.MoveNextAction.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 05:16:17.110 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - - - 400 - application/json;+ver=1 13856.0022ms
2023-02-23 05:16:17.117 +00:00 [ERR] An error occurred using the connection to database 'EgressDb' on server 'egress_db,1433'.
2023-02-23 05:16:17.134 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Egress.Infra.Data.Context.ApplicationDbContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-02-23 05:16:19.359 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 05:16:19.363 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 05:16:19.365 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 05:16:21.589 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 05:18:05.581 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 05:18:05.761 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 05:18:05.773 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 05:19:05.594 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 05:19:05.655 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 05:19:05.656 +00:00 [INF] Hosting environment: Development
2023-02-23 05:19:05.657 +00:00 [INF] Content root path: /app/
2023-02-23 05:19:09.265 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 05:19:09.335 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 05:19:09.379 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 05:19:09.436 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 05:19:17.327 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 05:19:17.532 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 05:19:53.061 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Behaviors.ValidationBehavior`2+<Handle>d__2[[Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 05:19:53.114 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 43670.9075ms
2023-02-23 05:19:53.116 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 05:19:53.130 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-d9b5b75da291d7534e4207ce22de092b-69b6adb345de3a2d-00
System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported. Path: $.MoveNextAction.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 05:19:53.230 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - - - 400 - application/json;+ver=1 43970.2163ms
2023-02-23 05:19:53.237 +00:00 [ERR] An error occurred using the connection to database 'EgressDb' on server 'egress_db,1433'.
2023-02-23 05:19:53.251 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Egress.Infra.Data.Context.ApplicationDbContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-02-23 05:23:51.943 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 05:23:51.983 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 05:23:51.984 +00:00 [INF] Hosting environment: Development
2023-02-23 05:23:51.984 +00:00 [INF] Content root path: /app/
2023-02-23 05:24:00.705 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 05:24:00.757 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 05:24:00.788 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 05:24:00.833 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 05:24:05.678 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 05:24:05.873 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 05:25:07.028 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Behaviors.ValidationBehavior`2+<Handle>d__2[[Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 05:25:07.109 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 66268.5783ms
2023-02-23 05:25:07.112 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 05:32:26.611 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 05:32:26.653 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 05:32:26.654 +00:00 [INF] Hosting environment: Development
2023-02-23 05:32:26.654 +00:00 [INF] Content root path: /app/
2023-02-23 05:32:40.994 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 05:32:41.048 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 05:32:41.086 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 05:32:41.134 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 05:32:44.913 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 05:32:45.105 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 05:33:05.371 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Behaviors.ValidationBehavior`2+<Handle>d__2[[Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 05:33:05.542 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 24399.9928ms
2023-02-23 05:33:05.545 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 05:36:03.744 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 05:36:03.795 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 05:36:03.796 +00:00 [INF] Hosting environment: Development
2023-02-23 05:36:03.796 +00:00 [INF] Content root path: /app/
2023-02-23 05:36:06.160 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 05:36:06.215 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 05:36:06.256 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 05:36:06.304 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 05:36:10.129 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 05:36:10.315 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 05:36:19.669 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Behaviors.ValidationBehavior`2+<Handle>d__2[[Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 05:36:21.940 +00:00 [INF] Executed DbCommand (271ms) [Parameters=[@__cpf_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[id], [p].[birth_date], [p].[cpf], [p].[created_at], [p].[email], [p].[expose_data], [p].[name], [p].[perfil_image], [p].[person_type], [p].[phone_number], [p].[sex], [p].[updated_at]
FROM [Person] AS [p]
WHERE [p].[cpf] = @__cpf_0
2023-02-23 05:36:29.761 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 23449.5687ms
2023-02-23 05:36:29.764 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 05:36:58.731 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 05:36:58.771 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 05:36:58.771 +00:00 [INF] Hosting environment: Development
2023-02-23 05:36:58.772 +00:00 [INF] Content root path: /app/
2023-02-23 05:36:59.461 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076598&document_type=1 - -
2023-02-23 05:36:59.519 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 05:36:59.551 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 05:36:59.607 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 05:37:03.337 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 05:37:03.549 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 06:24:18.346 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 06:24:18.391 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 06:24:18.391 +00:00 [INF] Hosting environment: Development
2023-02-23 06:24:18.392 +00:00 [INF] Content root path: /app/
2023-02-23 06:32:27.718 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 06:32:27.768 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 06:32:27.769 +00:00 [INF] Hosting environment: Development
2023-02-23 06:32:27.770 +00:00 [INF] Content root path: /app/
2023-02-23 06:32:28.690 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076&document_type=0 - -
2023-02-23 06:32:28.760 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 06:32:28.806 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:32:28.862 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 06:32:36.121 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 06:32:36.319 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 06:32:43.945 +00:00 [INF] Executed DbCommand (77ms) [Parameters=[@__mat_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[id], [p].[course_id], [p].[created_at], [p].[end_date], [p].[level], [p].[mat], [p].[modality], [p].[person_id], [p].[start_date], [p].[updated_at]
FROM [PersonCourse] AS [p]
WHERE [p].[mat] = @__mat_0
2023-02-23 06:33:09.855 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 06:33:09.971 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 41100.1481ms
2023-02-23 06:33:09.973 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:33:09.985 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-405373577205651844de6225b4fa2a30-a55f113e81db29ee-00
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Threading.Tasks.Task`1[Egress.Application.Queries.Responses.PersonCommandResponse]'.
 ---> System.AggregateException: One or more errors occurred. ([ERROR0002] Person not found)
 ---> Egress.Domain.Exceptions.BusinessException: [ERROR0002] Person not found
   at Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommandHandler.Handle(GetPersonByDocumentCommand request, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Queries\Person\GetPersonByDocument\GetPersonByDocumentCommandHandler.cs:line 43
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Egress.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Behaviors\ValidationBehavior.cs:line 21, TraceId: 00-405373577205651844de6225b4fa2a30-a55f113e81db29ee-00
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 06:33:10.081 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076&document_type=0 - - - 400 - application/json;+ver=1 41395.7891ms
2023-02-23 06:33:21.923 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076&document_type=0 - -
2023-02-23 06:33:21.926 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:33:21.927 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 06:33:25.698 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 06:33:31.068 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mat_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[id], [p].[course_id], [p].[created_at], [p].[end_date], [p].[level], [p].[mat], [p].[modality], [p].[person_id], [p].[start_date], [p].[updated_at]
FROM [PersonCourse] AS [p]
WHERE [p].[mat] = @__mat_0
2023-02-23 06:33:44.110 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-23 06:33:44.221 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 22293.7164ms
2023-02-23 06:33:44.223 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:33:55.169 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-8dcc3583e3ce8972ab12c14bf570562c-ca669ca5d3698ca2-00
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[Egress.Application.Queries.Responses.PersonCommandResponse,System.Runtime.CompilerServices.IAsyncStateMachine]'.
 ---> System.AggregateException: One or more errors occurred. ([ERROR0002] Person not found)
 ---> Egress.Domain.Exceptions.BusinessException: [ERROR0002] Person not found
   at Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommandHandler.Handle(GetPersonByDocumentCommand request, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Queries\Person\GetPersonByDocument\GetPersonByDocumentCommandHandler.cs:line 43
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Egress.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Behaviors\ValidationBehavior.cs:line 21, TraceId: 00-8dcc3583e3ce8972ab12c14bf570562c-ca669ca5d3698ca2-00
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 06:33:55.194 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076&document_type=0 - - - 400 - application/json;+ver=1 33270.3066ms
2023-02-23 06:34:03.697 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076&document_type=0 - -
2023-02-23 06:34:03.699 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:34:03.699 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 06:34:26.627 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 06:34:40.900 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mat_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[id], [p].[course_id], [p].[created_at], [p].[end_date], [p].[level], [p].[mat], [p].[modality], [p].[person_id], [p].[start_date], [p].[updated_at]
FROM [PersonCourse] AS [p]
WHERE [p].[mat] = @__mat_0
2023-02-23 06:35:18.135 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 06:35:18.136 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 74436.3703ms
2023-02-23 06:35:18.137 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:35:18.147 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-8f7e7ab880a6bc094e1f25fe6f287fbe-541fd7abb0fb085d-00
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Threading.Tasks.Task`1[Egress.Application.Queries.Responses.PersonCommandResponse]'.
 ---> System.AggregateException: One or more errors occurred. ([ERROR0002] Person not found)
 ---> Egress.Domain.Exceptions.BusinessException: [ERROR0002] Person not found
   at Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommandHandler.Handle(GetPersonByDocumentCommand request, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Queries\Person\GetPersonByDocument\GetPersonByDocumentCommandHandler.cs:line 43
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Egress.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Behaviors\ValidationBehavior.cs:line 21, TraceId: 00-8f7e7ab880a6bc094e1f25fe6f287fbe-541fd7abb0fb085d-00
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 06:35:18.151 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076&document_type=0 - - - 400 - application/json;+ver=1 74453.7570ms
2023-02-23 06:35:19.680 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076&document_type=1 - -
2023-02-23 06:35:19.680 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:35:19.681 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 06:35:22.652 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 06:35:29.550 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Behaviors.ValidationBehavior`2+<Handle>d__2[[Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 06:35:31.624 +00:00 [INF] Executed DbCommand (4,810ms) [Parameters=[@__cpf_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[id], [p].[birth_date], [p].[cpf], [p].[created_at], [p].[email], [p].[expose_data], [p].[name], [p].[perfil_image], [p].[person_type], [p].[phone_number], [p].[sex], [p].[updated_at]
FROM [Person] AS [p]
WHERE [p].[cpf] = @__cpf_0
2023-02-23 06:35:36.970 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 17288.9552ms
2023-02-23 06:35:36.971 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:36:18.389 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 06:36:18.437 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 06:36:18.437 +00:00 [INF] Hosting environment: Development
2023-02-23 06:36:18.438 +00:00 [INF] Content root path: /app/
2023-02-23 06:36:23.545 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076&document_type=1 - -
2023-02-23 06:36:23.634 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 06:36:23.690 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:36:23.755 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 06:36:27.337 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 06:36:27.541 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 06:37:17.335 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Behaviors.ValidationBehavior`2+<Handle>d__2[[Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 06:37:17.416 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 53650.9795ms
2023-02-23 06:37:17.421 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:38:48.587 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 06:38:48.631 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 06:38:48.631 +00:00 [INF] Hosting environment: Development
2023-02-23 06:38:48.632 +00:00 [INF] Content root path: /app/
2023-02-23 06:38:49.093 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076&document_type=1 - -
2023-02-23 06:38:49.148 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 06:38:49.184 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:38:49.234 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 06:38:52.287 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 06:38:52.500 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 06:38:58.530 +00:00 [INF] Executed DbCommand (86ms) [Parameters=[@__cpf_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[id], [p].[birth_date], [p].[cpf], [p].[created_at], [p].[email], [p].[expose_data], [p].[name], [p].[perfil_image], [p].[person_type], [p].[phone_number], [p].[sex], [p].[updated_at]
FROM [Person] AS [p]
WHERE [p].[cpf] = @__cpf_0
2023-02-23 06:40:33.263 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 06:40:33.312 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 06:40:33.317 +00:00 [INF] Hosting environment: Development
2023-02-23 06:40:33.318 +00:00 [INF] Content root path: /app/
2023-02-23 06:40:35.178 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076&document_type=0 - -
2023-02-23 06:40:35.243 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 06:40:35.275 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:40:35.329 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 06:40:41.268 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 06:40:41.468 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 06:40:48.143 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Behaviors.ValidationBehavior`2+<Handle>d__2[[Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 06:40:48.210 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 12874.8732ms
2023-02-23 06:40:48.213 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:45:04.586 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 06:45:04.638 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 06:45:04.643 +00:00 [INF] Hosting environment: Development
2023-02-23 06:45:04.643 +00:00 [INF] Content root path: /app/
2023-02-23 06:45:07.136 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076&document_type=0 - -
2023-02-23 06:45:07.190 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 06:45:07.225 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:45:07.271 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 06:45:10.991 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 06:45:11.168 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 06:45:15.420 +00:00 [INF] Executed DbCommand (77ms) [Parameters=[@__mat_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[id], [p].[course_id], [p].[created_at], [p].[end_date], [p].[level], [p].[mat], [p].[modality], [p].[person_id], [p].[start_date], [p].[updated_at]
FROM [PersonCourse] AS [p]
WHERE [p].[mat] = @__mat_0
2023-02-23 06:45:20.872 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 06:45:20.903 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 13625.5008ms
2023-02-23 06:45:20.904 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:45:20.915 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-9ad67344167ad472930f584f0ecd309e-32b5e819e6a684a4-00
System.AggregateException: One or more errors occurred. ([ERROR0002] Person not found)
 ---> Egress.Domain.Exceptions.BusinessException: [ERROR0002] Person not found
   at Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommandHandler.Handle(GetPersonByDocumentCommand request, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Queries\Person\GetPersonByDocument\GetPersonByDocumentCommandHandler.cs:line 43
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Egress.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Behaviors\ValidationBehavior.cs:line 21, TraceId: 00-9ad67344167ad472930f584f0ecd309e-32b5e819e6a684a4-00
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 06:45:20.989 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076&document_type=0 - - - 400 - application/json;+ver=1 13855.4384ms
2023-02-23 06:45:26.957 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076&document_type=1 - -
2023-02-23 06:45:26.959 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:45:26.960 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 06:45:31.465 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 06:45:35.341 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cpf_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[id], [p].[birth_date], [p].[cpf], [p].[created_at], [p].[email], [p].[expose_data], [p].[name], [p].[perfil_image], [p].[person_type], [p].[phone_number], [p].[sex], [p].[updated_at]
FROM [Person] AS [p]
WHERE [p].[cpf] = @__cpf_0
2023-02-23 06:45:40.053 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 06:45:40.055 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 13093.8305ms
2023-02-23 06:45:40.055 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:45:40.063 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-79814b41567ea638accd042095f1f2b2-5f90c660cdd2b6c5-00
System.AggregateException: One or more errors occurred. ([ERROR0002] Person not found)
 ---> Egress.Domain.Exceptions.BusinessException: [ERROR0002] Person not found
   at Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommandHandler.Handle(GetPersonByDocumentCommand request, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Queries\Person\GetPersonByDocument\GetPersonByDocumentCommandHandler.cs:line 43
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Egress.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Behaviors\ValidationBehavior.cs:line 21, TraceId: 00-79814b41567ea638accd042095f1f2b2-5f90c660cdd2b6c5-00
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 06:45:40.067 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076&document_type=1 - - - 400 - application/json;+ver=1 13109.8309ms
2023-02-23 06:46:37.158 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 06:46:37.200 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 06:46:37.201 +00:00 [INF] Hosting environment: Development
2023-02-23 06:46:37.201 +00:00 [INF] Content root path: /app/
2023-02-23 06:46:50.943 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076&document_type=1 - -
2023-02-23 06:46:51.004 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 06:46:51.042 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:46:51.093 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 06:46:54.197 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 06:46:54.378 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 06:46:58.751 +00:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2023-02-23 06:46:59.464 +00:00 [INF] Executed DbCommand (94ms) [Parameters=[@__cpf_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[id], [t].[birth_date], [t].[cpf], [t].[created_at], [t].[email], [t].[expose_data], [t].[name], [t].[perfil_image], [t].[person_type], [t].[phone_number], [t].[sex], [t].[updated_at], [t].[id0], [e].[id], [e].[created_at], [e].[end_date], [e].[enterprise], [e].[initiative], [e].[person_id], [e].[role], [e].[salary_range], [e].[section], [e].[start_date], [e].[status], [e].[updated_at], [t].[city], [t].[country], [t].[created_at0], [t].[district], [t].[person_id], [t].[state], [t].[street], [t].[updated_at0], [p0].[id], [p0].[course_id], [p0].[created_at], [p0].[end_date], [p0].[level], [p0].[mat], [p0].[modality], [p0].[person_id], [p0].[start_date], [p0].[updated_at], [h].[id], [h].[created_at], [h].[description], [h].[link], [h].[person_id], [h].[title], [h].[updated_at], [s].[id], [s].[course_name], [s].[created_at], [s].[end_date], [s].[institution_name], [s].[modality], [s].[person_id], [s].[start_date], [s].[status], [s].[updated_at], [t0].[id], [t0].[content], [t0].[created_at], [t0].[person_id], [t0].[updated_at], [t0].[was_accepted]
FROM (
    SELECT TOP(2) [p].[id], [p].[birth_date], [p].[cpf], [p].[created_at], [p].[email], [p].[expose_data], [p].[name], [p].[perfil_image], [p].[person_type], [p].[phone_number], [p].[sex], [p].[updated_at], [a].[id] AS [id0], [a].[city], [a].[country], [a].[created_at] AS [created_at0], [a].[district], [a].[person_id], [a].[state], [a].[street], [a].[updated_at] AS [updated_at0]
    FROM [Person] AS [p]
    LEFT JOIN [Address] AS [a] ON [p].[id] = [a].[person_id]
    WHERE [p].[cpf] = @__cpf_0
) AS [t]
LEFT JOIN [Employment] AS [e] ON [t].[id] = [e].[person_id]
LEFT JOIN [PersonCourse] AS [p0] ON [t].[id] = [p0].[person_id]
LEFT JOIN [Highlights] AS [h] ON [t].[id] = [h].[person_id]
LEFT JOIN [Specialization] AS [s] ON [t].[id] = [s].[person_id]
LEFT JOIN [Testimony] AS [t0] ON [t].[id] = [t0].[person_id]
ORDER BY [t].[id], [t].[id0], [e].[id], [p0].[id], [h].[id], [s].[id]
2023-02-23 06:47:07.645 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-23 06:47:07.721 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 16618.932ms
2023-02-23 06:47:07.724 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:47:15.436 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-2714337277c2815564396b226ba0563b-eac9769bd4b505c1-00
System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported. Path: $.MoveNextAction.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Action' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 06:47:15.496 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076&document_type=1 - - - 400 - application/json;+ver=1 24556.4558ms
2023-02-23 06:52:01.819 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 06:52:01.863 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 06:52:01.864 +00:00 [INF] Hosting environment: Development
2023-02-23 06:52:01.864 +00:00 [INF] Content root path: /app/
2023-02-23 06:52:08.715 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076&document_type=1 - -
2023-02-23 06:52:08.770 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 06:52:08.806 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:52:08.855 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 06:52:12.657 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 06:52:12.831 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 06:52:18.292 +00:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2023-02-23 06:52:18.926 +00:00 [INF] Executed DbCommand (73ms) [Parameters=[@__cpf_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[id], [t].[birth_date], [t].[cpf], [t].[created_at], [t].[email], [t].[expose_data], [t].[name], [t].[perfil_image], [t].[person_type], [t].[phone_number], [t].[sex], [t].[updated_at], [t].[id0], [e].[id], [e].[created_at], [e].[end_date], [e].[enterprise], [e].[initiative], [e].[person_id], [e].[role], [e].[salary_range], [e].[section], [e].[start_date], [e].[status], [e].[updated_at], [t].[city], [t].[country], [t].[created_at0], [t].[district], [t].[person_id], [t].[state], [t].[street], [t].[updated_at0], [p0].[id], [p0].[course_id], [p0].[created_at], [p0].[end_date], [p0].[level], [p0].[mat], [p0].[modality], [p0].[person_id], [p0].[start_date], [p0].[updated_at], [h].[id], [h].[created_at], [h].[description], [h].[link], [h].[person_id], [h].[title], [h].[updated_at], [s].[id], [s].[course_name], [s].[created_at], [s].[end_date], [s].[institution_name], [s].[modality], [s].[person_id], [s].[start_date], [s].[status], [s].[updated_at], [t0].[id], [t0].[content], [t0].[created_at], [t0].[person_id], [t0].[updated_at], [t0].[was_accepted]
FROM (
    SELECT TOP(2) [p].[id], [p].[birth_date], [p].[cpf], [p].[created_at], [p].[email], [p].[expose_data], [p].[name], [p].[perfil_image], [p].[person_type], [p].[phone_number], [p].[sex], [p].[updated_at], [a].[id] AS [id0], [a].[city], [a].[country], [a].[created_at] AS [created_at0], [a].[district], [a].[person_id], [a].[state], [a].[street], [a].[updated_at] AS [updated_at0]
    FROM [Person] AS [p]
    LEFT JOIN [Address] AS [a] ON [p].[id] = [a].[person_id]
    WHERE [p].[cpf] = @__cpf_0
) AS [t]
LEFT JOIN [Employment] AS [e] ON [t].[id] = [e].[person_id]
LEFT JOIN [PersonCourse] AS [p0] ON [t].[id] = [p0].[person_id]
LEFT JOIN [Highlights] AS [h] ON [t].[id] = [h].[person_id]
LEFT JOIN [Specialization] AS [s] ON [t].[id] = [s].[person_id]
LEFT JOIN [Testimony] AS [t0] ON [t].[id] = [t0].[person_id]
ORDER BY [t].[id], [t].[id0], [e].[id], [p0].[id], [h].[id], [s].[id]
2023-02-23 06:52:22.442 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 06:52:22.477 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 13613.8827ms
2023-02-23 06:52:22.479 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:52:22.491 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-e2abec330a1b42f9e764751b2b7de29d-a91a0952647dce78-00
System.AggregateException: One or more errors occurred. ([ERROR0002] Person not found)
 ---> Egress.Domain.Exceptions.BusinessException: [ERROR0002] Person not found
   at Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommandHandler.Handle(GetPersonByDocumentCommand request, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Queries\Person\GetPersonByDocument\GetPersonByDocumentCommandHandler.cs:line 43
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Egress.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Behaviors\ValidationBehavior.cs:line 21, TraceId: 00-e2abec330a1b42f9e764751b2b7de29d-a91a0952647dce78-00
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 06:52:22.565 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076&document_type=1 - - - 400 - application/json;+ver=1 13852.7798ms
2023-02-23 06:53:19.535 +00:00 [INF] Now listening on: http://[::]:80
2023-02-23 06:53:19.576 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-23 06:53:19.576 +00:00 [INF] Hosting environment: Development
2023-02-23 06:53:19.577 +00:00 [INF] Content root path: /app/
2023-02-23 06:53:23.558 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076&document_type=1 - -
2023-02-23 06:53:23.611 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-23 06:53:23.648 +00:00 [INF] Executing endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:53:23.709 +00:00 [INF] Route matched with {action = "GetByDocument", controller = "Egress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByDocumentAsync(Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommand) on controller Egress.API.Controllers.EgressController (Egress.API).
2023-02-23 06:53:32.287 +00:00 [WRN] No store type was specified for the decimal property 'SalaryRange' on entity type 'Employment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-02-23 06:53:32.472 +00:00 [INF] Entity Framework Core 6.0.11 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2023-02-23 06:53:39.341 +00:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2023-02-23 06:53:40.024 +00:00 [INF] Executed DbCommand (73ms) [Parameters=[@__cpf_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[id], [t].[birth_date], [t].[cpf], [t].[created_at], [t].[email], [t].[expose_data], [t].[name], [t].[perfil_image], [t].[person_type], [t].[phone_number], [t].[sex], [t].[updated_at], [t].[id0], [e].[id], [e].[created_at], [e].[end_date], [e].[enterprise], [e].[initiative], [e].[person_id], [e].[role], [e].[salary_range], [e].[section], [e].[start_date], [e].[status], [e].[updated_at], [t].[city], [t].[country], [t].[created_at0], [t].[district], [t].[person_id], [t].[state], [t].[street], [t].[updated_at0], [p0].[id], [p0].[course_id], [p0].[created_at], [p0].[end_date], [p0].[level], [p0].[mat], [p0].[modality], [p0].[person_id], [p0].[start_date], [p0].[updated_at], [h].[id], [h].[created_at], [h].[description], [h].[link], [h].[person_id], [h].[title], [h].[updated_at], [s].[id], [s].[course_name], [s].[created_at], [s].[end_date], [s].[institution_name], [s].[modality], [s].[person_id], [s].[start_date], [s].[status], [s].[updated_at], [t0].[id], [t0].[content], [t0].[created_at], [t0].[person_id], [t0].[updated_at], [t0].[was_accepted]
FROM (
    SELECT TOP(2) [p].[id], [p].[birth_date], [p].[cpf], [p].[created_at], [p].[email], [p].[expose_data], [p].[name], [p].[perfil_image], [p].[person_type], [p].[phone_number], [p].[sex], [p].[updated_at], [a].[id] AS [id0], [a].[city], [a].[country], [a].[created_at] AS [created_at0], [a].[district], [a].[person_id], [a].[state], [a].[street], [a].[updated_at] AS [updated_at0]
    FROM [Person] AS [p]
    LEFT JOIN [Address] AS [a] ON [p].[id] = [a].[person_id]
    WHERE [p].[cpf] = @__cpf_0
) AS [t]
LEFT JOIN [Employment] AS [e] ON [t].[id] = [e].[person_id]
LEFT JOIN [PersonCourse] AS [p0] ON [t].[id] = [p0].[person_id]
LEFT JOIN [Highlights] AS [h] ON [t].[id] = [h].[person_id]
LEFT JOIN [Specialization] AS [s] ON [t].[id] = [s].[person_id]
LEFT JOIN [Testimony] AS [t0] ON [t].[id] = [t0].[person_id]
ORDER BY [t].[id], [t].[id0], [e].[id], [p0].[id], [h].[id], [s].[id]
2023-02-23 06:53:49.101 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[Egress.Application.Queries.Responses.PersonCommandResponse, Egress.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-23 06:53:49.134 +00:00 [INF] Executed action Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API) in 25417.7655ms
2023-02-23 06:53:49.136 +00:00 [INF] Executed endpoint 'Egress.API.Controllers.EgressController.GetByDocumentAsync (Egress.API)'
2023-02-23 06:53:49.146 +00:00 [ERR] An unexpected error occurred, Endpoint: /api/v1/egress, TraceId: 00-e540f098d92d7242b34146628bde9b2c-9e022a90f3713087-00
System.AggregateException: One or more errors occurred. ([ERROR0002] Person not found)
 ---> Egress.Domain.Exceptions.BusinessException: [ERROR0002] Person not found
   at Egress.Application.Queries.Person.GetPersonByDocument.GetPersonByDocumentCommandHandler.Handle(GetPersonByDocumentCommand request, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Queries\Person\GetPersonByDocument\GetPersonByDocumentCommandHandler.cs:line 43
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Egress.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.Application\Behaviors\ValidationBehavior.cs:line 21, TraceId: 00-e540f098d92d7242b34146628bde9b2c-9e022a90f3713087-00
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Egress.API.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ellis\Desktop\TCC\New\EgressProject\src\microservices\EgressApp\Egress.API\Middlewares\GlobalExceptionMiddleware.cs:line 34
2023-02-23 06:53:49.215 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8030/api/v1/egress?document=06300076&document_type=1 - - - 400 - application/json;+ver=1 25660.3524ms
